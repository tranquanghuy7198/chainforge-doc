"use strict";(globalThis.webpackChunkchainforge_doc=globalThis.webpackChunkchainforge_doc||[]).push([[461],{8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var a=r(6540);const i={},o=a.createContext(i);function s(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(o.Provider,{value:n},e.children)}},9720:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"solana/generate-abi-bytecode","title":"Generate Solana IDL and Bytecode","description":"Build Your Program","source":"@site/docs/solana/2-generate-abi-bytecode.md","sourceDirName":"solana","slug":"/solana/generate-abi-bytecode","permalink":"/chainforge-doc/docs/solana/generate-abi-bytecode","draft":false,"unlisted":false,"editUrl":"https://github.com/tranquanghuy7198/chainforge-doc/tree/main/packages/create-docusaurus/templates/shared/docs/solana/2-generate-abi-bytecode.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Prepare Solana Anchor Project","permalink":"/chainforge-doc/docs/solana/prepare-project"},"next":{"title":"Interact with Solana Programs","permalink":"/chainforge-doc/docs/solana/interact-with-contract"}}');var i=r(4848),o=r(8453);const s={sidebar_position:2},t="Generate Solana IDL and Bytecode",l={},d=[{value:"Build Your Program",id:"build-your-program",level:2},{value:"Generated Files",id:"generated-files",level:2},{value:"Program Binary (.so file)",id:"program-binary-so-file",level:3},{value:"IDL (Interface Definition Language)",id:"idl-interface-definition-language",level:3},{value:"Program ID",id:"program-id",level:2},{value:"Verify Build Artifacts",id:"verify-build-artifacts",level:2},{value:"Clean Build",id:"clean-build",level:2},{value:"Notes",id:"notes",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"generate-solana-idl-and-bytecode",children:"Generate Solana IDL and Bytecode"})}),"\n",(0,i.jsx)(n.h2,{id:"build-your-program",children:"Build Your Program"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"anchor build"})," command compiles your Solana program and generates essential artifacts:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"anchor build\n"})}),"\n",(0,i.jsx)(n.h2,{id:"generated-files",children:"Generated Files"}),"\n",(0,i.jsx)(n.p,{children:"After building, you'll find these key files:"}),"\n",(0,i.jsx)(n.h3,{id:"program-binary-so-file",children:"Program Binary (.so file)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Location:"})," ",(0,i.jsx)(n.code,{children:"target/deploy/your_program_name.so"})]}),"\n",(0,i.jsxs)(n.p,{children:["This is the compiled Solana program in BPF bytecode format. Solana uses eBPF (extended Berkeley Packet Filter), which produces ",(0,i.jsx)(n.code,{children:".so"})," (shared object) files."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Example path\ntarget/deploy/my_project.so\n"})}),"\n",(0,i.jsx)(n.h3,{id:"idl-interface-definition-language",children:"IDL (Interface Definition Language)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Location:"})," ",(0,i.jsx)(n.code,{children:"target/idl/your_program_name.json"})]}),"\n",(0,i.jsx)(n.p,{children:"The IDL describes your program's interface - instructions, accounts, types, events, and errors in JSON format."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Example path\ntarget/idl/my_project.json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"IDL Contents:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Instruction definitions"}),"\n",(0,i.jsx)(n.li,{children:"Account structures"}),"\n",(0,i.jsx)(n.li,{children:"Custom types"}),"\n",(0,i.jsx)(n.li,{children:"Events"}),"\n",(0,i.jsx)(n.li,{children:"Error codes"}),"\n",(0,i.jsx)(n.li,{children:"Program metadata"}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{title:"Use latest IDL format",type:"warning",children:[(0,i.jsxs)(n.p,{children:["Solana v0.30.0 (and later) produces a new IDL format. For detailed information, visit ",(0,i.jsx)(n.a,{href:"https://github.com/acheroncrypto/anchor/blob/v0.30.0/docs/src/pages/release-notes/0.30.0.md",children:"Anchor v0.30.0 Release Notes"})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"ChainForge"})})," only supports the latest format of IDL. For legacy IDLs, please use ",(0,i.jsx)(n.code,{children:"anchor idl convert"})," CLI to convert to the latest format. Please note that in certain situations, this conversion cannot provide enough/correct IDL details."]})]}),"\n",(0,i.jsx)(n.h2,{id:"program-id",children:"Program ID"}),"\n",(0,i.jsx)(n.p,{children:"Your program's address is stored in:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"target/deploy/your_program_name-keypair.json\n"})}),"\n",(0,i.jsx)(n.p,{children:"View your program ID:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"solana address -k target/deploy/your_program_name-keypair.json\n"})}),"\n",(0,i.jsx)(n.h2,{id:"verify-build-artifacts",children:"Verify Build Artifacts"}),"\n",(0,i.jsx)(n.p,{children:"Check that files were generated:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -la target/deploy/\nls -la target/idl/\nls -la target/types/\n"})}),"\n",(0,i.jsx)(n.h2,{id:"clean-build",children:"Clean Build"}),"\n",(0,i.jsx)(n.p,{children:"To rebuild from scratch:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"anchor clean\nanchor build\n"})}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Solana programs compile to .so files"})," in BPF/eBPF bytecode format"]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:".so"})," file is the deployable program binary"]}),"\n",(0,i.jsx)(n.li,{children:"The IDL enables client-side program interaction"}),"\n",(0,i.jsx)(n.li,{children:"Build artifacts are gitignored by default"}),"\n",(0,i.jsx)(n.li,{children:"Always rebuild after modifying program code"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);