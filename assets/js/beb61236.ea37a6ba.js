"use strict";(globalThis.webpackChunkchainforge_doc=globalThis.webpackChunkchainforge_doc||[]).push([[614],{794:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"cosmos/generate-abi-bytecode","title":"Generate CosmWasm ABI and Bytecode","description":"Generate JSON Schema (ABI)","source":"@site/docs/cosmos/2-generate-abi-bytecode.md","sourceDirName":"cosmos","slug":"/cosmos/generate-abi-bytecode","permalink":"/chainforge-doc/docs/cosmos/generate-abi-bytecode","draft":false,"unlisted":false,"editUrl":"https://github.com/tranquanghuy7198/chainforge-doc/tree/main/packages/create-docusaurus/templates/shared/docs/cosmos/2-generate-abi-bytecode.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Prepare CosmWasm Project","permalink":"/chainforge-doc/docs/cosmos/prepare-project"},"next":{"title":"Interact with CosmWasm Contract","permalink":"/chainforge-doc/docs/cosmos/interact-with-contract"}}');var o=s(4848),r=s(8453);const c={sidebar_position:2},a="Generate CosmWasm ABI and Bytecode",i={},d=[{value:"Generate JSON Schema (ABI)",id:"generate-json-schema-abi",level:2},{value:"Optimized Build for Deployment",id:"optimized-build-for-deployment",level:2}];function m(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"generate-cosmwasm-abi-and-bytecode",children:"Generate CosmWasm ABI and Bytecode"})}),"\n",(0,o.jsx)(t.h2,{id:"generate-json-schema-abi",children:"Generate JSON Schema (ABI)"}),"\n",(0,o.jsx)(t.p,{children:"Schema files describe your contract's interface (similar to ABI):"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cargo schema\n"})}),"\n",(0,o.jsxs)(t.p,{children:["This creates JSON schema files in ",(0,o.jsx)(t.code,{children:"schema/"})," directory:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"instantiate_msg.json"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"execute_msg.json"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"query_msg.json"})}),"\n",(0,o.jsx)(t.li,{children:"Main JSON schema"}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Only the main JSON schema file is necessary to interact with your CosmWasm smart contract. This file has the same name as your smart contract. For example, if your contract name is ",(0,o.jsx)(t.code,{children:"my-contract"}),", you can find the main JSON schema file at ",(0,o.jsx)(t.code,{children:"schema/my-contract.json"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"optimized-build-for-deployment",children:"Optimized Build for Deployment"}),"\n",(0,o.jsx)(t.p,{children:"Use the CosmWasm optimizer to create production-ready WASM:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'docker run --rm -v "$(pwd)":/code \\\n  --mount type=volume,source="$(basename "$(pwd)")_cache",target=/code/target \\\n  --mount type=volume,source=registry_cache,target=/usr/local/cargo/registry \\\n  cosmwasm/optimizer-arm64:0.17.0\n'})}),"\n",(0,o.jsxs)(t.p,{children:["This generates an optimized ",(0,o.jsx)(t.code,{children:".wasm"})," file in the ",(0,o.jsx)(t.code,{children:"artifacts/"})," directory. This file contains the bytecode of your CosmWasm smart contract. It is necessary when you want to deploy your CosmWasm contract to blockchains."]}),"\n",(0,o.jsx)(t.admonition,{type:"warning",children:(0,o.jsxs)(t.p,{children:["For Intel chip, please use ",(0,o.jsx)(t.code,{children:"cosmwasm/optimizer"})," instead. It is recommended to always check the latest optimizer versions at ",(0,o.jsx)(t.a,{href:"https://hub.docker.com/r/cosmwasm/optimizer-arm64",children:"Docker Hub"}),"."]})}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"For detailed documentation, visit:"})," ",(0,o.jsx)(t.a,{href:"https://docs.cosmwasm.com",children:"CosmWasm Documentation"})," and ",(0,o.jsx)(t.a,{href:"https://github.com/CosmWasm/optimizer",children:"Optimizer Documentation"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>a});var n=s(6540);const o={},r=n.createContext(o);function c(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);